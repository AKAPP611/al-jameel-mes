/* ===== TOKENS ===== */
:root{
  --primary:#a32034; /* Deep Red */
  --accent:#d5a333;  /* Gold */
  --text:#2f2a28;    /* Dark Charcoal */
  --bg:#f3f4f6;      /* Light Gray */
  --surface:#ffffff; /* White */

  --shadow: 0 10px 30px rgba(0,0,0,.10), 0 2px 10px rgba(0,0,0,.05);
  --glass: rgba(255,255,255,.55);
  --radius-xl: 24px; --radius-lg:18px; --radius:12px;
  --gap-1:8px; --gap-2:12px; --gap-3:16px; --gap-4:20px; --gap-5:24px;
}

/* ===== BASE ===== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text); background:var(--bg);
  font: 16px/1.55 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans Arabic", "Noto Sans Devanagari", Arial, sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}
*:focus{outline:3px solid var(--accent); outline-offset:2px}
.skip-link{position:absolute; left:-9999px}
.skip-link:focus{left:12px; top:12px; background:var(--accent); color:#000; padding:8px 12px; border-radius:8px}

.container{max-width:1100px; margin-inline:auto; padding-inline:16px}

/* ===== HERO BACKDROP ===== */
.bg-hero{
  position:fixed; inset:0; z-index:-1;
  background:
    radial-gradient(1200px 600px at 80% -50%, #d5a33322, transparent 60%),
    radial-gradient(800px 600px at -20% 120%, #a3203422, transparent 60%),
    linear-gradient(180deg,#fff, #f7f7f9 40%, #f1f2f5 100%);
}

/* ===== HEADER / FOOTER ===== */
.app-header{
  position:sticky; top:0; z-index:10; backdrop-filter:saturate(120%) blur(6px);
  background:color-mix(in oklab, var(--glass) 60%, #fff 40%);
  border-bottom:1px solid #e7e7ea;
}
.header-row{display:flex; align-items:center; justify-content:space-between; gap:var(--gap-3); padding-block:10px}
.brand-lockup{display:flex; align-items:center; gap:10px}
.logo{position:relative; inline-size:28px; block-size:28px}
.logo .dot{position:absolute; inset:6px; border-radius:999px; background:var(--primary)}
.logo .ring{position:absolute; inset:0; border-radius:999px; border:3px solid var(--accent)}
.brand{margin:0; font-size:clamp(20px,4vw,26px); letter-spacing:.2px}

.lang-switch .pill{
  min-height:44px; min-width:52px; border-radius:999px; padding:8px 12px;
  background:#fff; border:1px solid #e7e7ea; cursor:pointer; transition:all .2s ease;
}
.lang-switch .pill[aria-pressed="true"]{background:var(--primary); color:#fff; border-color:var(--primary); box-shadow:0 4px 14px rgba(163,32,52,.35)}

.app-footer{
  position:sticky; bottom:0; background:color-mix(in oklab, var(--glass) 60%, #fff 40%);
  border-top:1px solid #e7e7ea;
}
.footer-row{display:flex; align-items:center; justify-content:space-between; gap:var(--gap-3); padding-block:10px}

/* ===== UTILITIES ===== */
.grid{display:grid; gap:var(--gap-4)}
.grid-3{grid-template-columns:repeat(3,1fr)}
@media (max-width:900px){ .grid-3{grid-template-columns:1fr} }

.row{display:flex; gap:var(--gap-3); align-items:center; flex-wrap:wrap}

.btn{
  background:linear-gradient(90deg, var(--primary), color-mix(in oklab, var(--primary) 60%, var(--accent) 40%));
  color:#fff; border:0; border-radius:var(--radius-lg); padding:12px 16px; font-weight:700; letter-spacing:.2px;
  min-height:44px; cursor:pointer; box-shadow:var(--shadow); transition:transform .1s ease, filter .2s ease;
}
.btn:hover{filter:brightness(1.02)}
.btn:active{transform:translateY(1px)}

.ghost{background:transparent; border:1px solid #e7e7ea; border-radius:var(--radius); padding:10px 12px; min-height:44px; cursor:pointer}

.card{
  background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.75));
  backdrop-filter: blur(8px);
  border:1px solid #eeeeee;
  border-radius:var(--radius-xl);
  box-shadow:var(--shadow);
  padding:20px;
}
.card .title{font-weight:800; font-size:18px; letter-spacing:.2px}
.card .subtitle{color:#6b7280; margin-top:4px; margin-bottom:12px}

/* KPI tiles */
.kpi{display:grid; gap:6px; padding:14px; border-radius:16px; background:#fff; border:1px solid #eee}
.kpi .label{color:#6b7280; font-size:13px}
.kpi .value{font-size:22px; font-weight:800}
.kpi.ok{box-shadow: inset 0 0 0 3px #22c55e22}
.kpi.warn{box-shadow: inset 0 0 0 3px #f59e0b22}
.kpi.bad{box-shadow: inset 0 0 0 3px #ef444422}

/* Progress */
.progress{inline-size:100%; block-size:12px; background:#eef1f6; border-radius:999px; position:relative; overflow:hidden}
.progress > span{position:absolute; inset-block:0; inset-inline-start:0; background:linear-gradient(90deg, var(--accent), var(--primary));}

/* Factory card layout */
.factory-card{display:grid; gap:12px}
.factory-card .cta{inline-size:100%}

/* Section */
h2.section{margin:18px 0 8px; font-size:20px; font-weight:800}

/* RTL adjustments */
html[dir="rtl"] .header-row, html[dir="rtl"] .footer-row{flex-direction:row-reverse}
html[dir="rtl"]{direction:rtl}
